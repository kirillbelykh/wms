{% extends "index.html" %}

{% block content %}
<h2>Список партий</h2>

<form hx-post="/batches/" hx-target="#batches-list" hx-swap="innerHTML">
    <input type="text" name="name" placeholder="Название партии" required>
    <input type="text" name="description" placeholder="Описание">
    <input type="number" name="quantity" placeholder="Количество" step="1" required>
    <button type="submit">Создать</button>
</form>

<div id="batches-list">
    <ul>
        {% for batch in batches %}
            <li>
                <strong>{{ batch.name }}</strong> – {{ batch.description or "Нет описания" }},
                Количество: {{ batch.quantity }}
                <button hx-delete="/batches/delete/{{ batch.id }}" 
                        hx-target="#batches-list" 
                        hx-swap="innerHTML"
                        style="background:none; border:none; cursor:pointer; color:red;">
                    ✖
                </button>
            </li>
        {% else %}
            <li>Нет партий</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}